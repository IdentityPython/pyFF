{% extends "common.html" %}

{% block title %}{{ gettext('Please login...') }}{% endblock %}

{% block header %}
    <div class="row discovery">
        <div class="col-md-12">
            <div class="media">
                <div class="media-body">
                    <h1 class="mt-0 mb-1">{% if entity.title %}{{entity.title}}{% else %}{{ entity.entity_id }}{% endif %}</h1>
                    {% if entity.descr and entity.descr != entity.title %}
                    <span class="small">{{ entity.descr }}</span>
                    {% endif %}
                    {% if entity.psu %}
                    <span class="small">
                        <a title="Privacy Statement" href="{{ entity.psu }}">Privacy Statement</a>
                    </span>
                    {% endif %}
                </div>
                <div class="d-flex ml-3 sp-icon"><img class="img-thumbnail" src="{{entity.entity_icon}}"/></div>
            </div>
        </div>
    </div>
{% endblock %}

{% block content %}
        <div class="row discovery">
            <div class="col-md-12">
                <p class="text-info">
                    {{ gettext('This service requests that you login. Select your preferred method below...') }}
                </p>
                <div id="ds"
                     data-href="{{ entity['entity_id'] }}"
                     data-mdq="/metadata/"
                     data-store="{{storage}}"
                     data-search="{{search}}"
                     data-list="{{list}}"
                     data-related="{{ entity['domains'] }}"
                     data-inputfieldselector="#searchinput">
                    <div class="form-group">
                        <input id="searchinput"
                               placeholder="{{ gettext('Start typing to search for your login provider or home organization ...') }}"
                               class="form-control"
                               type="search"/>
                    </div>
                </div>
            </div>
        </div>
{% endblock %}

{% block endscripts %}
        <script type="text/javascript" src="/static/js/hashes.min.js"></script>
        <script type="text/javascript" src="/static/js/client.min.js"></script>
        <script type="text/javascript" src="/static/js/ds-client.js"></script>
        <script type="text/javascript" src="/static/js/jquery-ui.min.js"></script>
        <script type="text/javascript" src="/static/js/jquery-ds-widget.js"></script>
        <!-- script type="text/javascript" src="/static/js/json2.min.js"></script -->
        <script type="text/javascript" src="/static/js/bootstrap-list-filter.src.js"></script>
{% endblock %}

{% block final %}
        <script type="text/javascript">
            $(document).ready(function() {
                $("#ds").discovery_client();
            });
        </script>
{% endblock %}
</body>
</html>
